{% extends "site.html" %}
{% block content %}

<!---Ramen Photos-->	
<div id="main">
  <div id="boxes">

  {% include "grid.html" %}

  </div>
<div id="loadmoreajaxloader" style="display:none;"><center><img src="/static/images/ajax-loader.gif" /></center></div>
</div>

<script type="text/javascript">
var scroll = true;
var nextPage = 1;
$("#boxes").waterfall({
  itemClass: ".box",
  minColCount: 2,
  spacingHeight: 10,
  resizeable: true,
  ajaxCallback: function(success, end) {
    if (scroll) {
      scroll = false;
      $('#loadmoreajaxloader').show();
      $.ajax({
        url: "/list/" + nextPage,
        success: function(html) {
          $('#loadmoreajaxloader').hide();
          if(html) {
            $("#boxes").append(html);
            nextPage++;
            scroll = true;
          }
          else {
            $('#main').append('<center>No more Ramens to show.</center>');
          }
        }
      });
    success();
    end();
    };
  }
});
</script>

{% endblock content %}

